<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libbgp: route-filter.cc</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libbgp
   &#160;<span id="projectnumber">0.5</span>
   </div>
   <div id="projectbrief">A C++ BGP Library.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">route-filter.cc</div>  </div>
</div><!--header-->
<div class="contents">
<p>Example of using ingress/egress route filtering feature of BgpFsm. This example also shows how you can implement your own BgpOutHandler and BgpLogHandler.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;libbgp/bgp-fsm.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;arpa/inet.h&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// This example demos how you can filter ingress/egress routes of BgpFsm. We </span></div><div class="line"><span class="comment">// don&#39;t peer with a real BGP speaker in this example. Instead, we have two </span></div><div class="line"><span class="comment">// BgpFsm talks to each other.</span></div><div class="line"></div><div class="line"><span class="comment">// Implement our output handler to pass data directly to another BGP FSM. </span></div><div class="line"><span class="comment">// BgpOutHandler is used by BGP FSM to write BGP message to peer. </span></div><div class="line"><span class="comment">// Usually, BGP FSM will write messages to a peer with a TCP socket. (a file </span></div><div class="line"><span class="comment">// descriptor). In that case, we use FdOutHandler, which comes with libbgp. </span></div><div class="line"><span class="comment">// However, here we want to talk to another BGP FSM running in the same program.</span></div><div class="line"><span class="keyword">class </span>PipedOutHandler : <span class="keyword">public</span> <a name="_a0"></a><a class="code" href="classlibbgp_1_1BgpOutHandler.html">libbgp::BgpOutHandler</a> {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    PipedOutHandler() {</div><div class="line">        other = NULL;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordtype">void</span> setPeer(<a name="_a1"></a><a class="code" href="classlibbgp_1_1BgpFsm.html">libbgp::BgpFsm</a> *other) {</div><div class="line">        this-&gt;other = other;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordtype">bool</span> <a name="a2"></a><a class="code" href="classlibbgp_1_1BgpOutHandler.html#a89f6bc44f508693a0c1923e558a07ad8">handleOut</a>(<span class="keyword">const</span> uint8_t *buffer, <span class="keywordtype">size_t</span> length) {</div><div class="line">        <span class="keywordflow">return</span> other-&gt;<a name="a3"></a><a class="code" href="classlibbgp_1_1BgpFsm.html#adea892746fa368c182575d949e4565d3">run</a>(buffer, length) &gt;= 0;</div><div class="line">    };</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <a class="code" href="classlibbgp_1_1BgpFsm.html">libbgp::BgpFsm</a> *other;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">// Since we have two FSMs here, we want to label their log output so we know</span></div><div class="line"><span class="comment">// where the log is comming from. Implement our own log handler so we can label</span></div><div class="line"><span class="comment">// the log output.</span></div><div class="line"><span class="keyword">class </span>MyLoghandler : <span class="keyword">public</span> <a name="_a4"></a><a class="code" href="classlibbgp_1_1BgpLogHandler.html">libbgp::BgpLogHandler</a> {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    MyLoghandler(<span class="keyword">const</span> <span class="keywordtype">char</span> *name) {</div><div class="line">        this-&gt;name = name;</div><div class="line">    }</div><div class="line"></div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    <span class="keywordtype">void</span> logImpl(<span class="keyword">const</span> <span class="keywordtype">char</span>* str) {</div><div class="line">        printf(<span class="stringliteral">&quot;[%s] %s&quot;</span>, name, str);</div><div class="line">    }</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *name;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>) {</div><div class="line"></div><div class="line">    <span class="comment">// creare loggers for &quot;local&quot; and &quot;remote&quot;</span></div><div class="line">    MyLoghandler local_logger(<span class="stringliteral">&quot;local&quot;</span>);</div><div class="line">    MyLoghandler remote_logger(<span class="stringliteral">&quot;remote&quot;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// we want to see detailed messages.</span></div><div class="line">    local_logger.setLogLevel(libbgp::DEBUG);</div><div class="line">    remote_logger.setLogLevel(libbgp::DEBUG);</div><div class="line"></div><div class="line">    <span class="comment">// create rules set object. Filter rule sets are passed to BgpFsm through </span></div><div class="line">    <span class="comment">// BgpConfig object. If no rules set are provided, BgpFsm accepts all </span></div><div class="line">    <span class="comment">// ingress and egress route.</span></div><div class="line"></div><div class="line">    <span class="comment">// egress rule set (apply to routes sending to peer). Say we only want to</span></div><div class="line">    <span class="comment">// send 172.16.0.0/24 to peer, nothing else.</span></div><div class="line">    <a name="_a5"></a><a class="code" href="classlibbgp_1_1BgpFilterRules.html">libbgp::BgpFilterRules</a> egress_rules;</div><div class="line"></div><div class="line">    <span class="comment">// egress: append a rule: reject 0.0.0.0/0 and all the sub-prefix (reject </span></div><div class="line">    <span class="comment">// everything)</span></div><div class="line">    egress_rules.<a name="a6"></a><a class="code" href="classlibbgp_1_1BgpFilterRules.html#a56314eaf305bf29b8b3b8eaf027b01ed">append</a>&lt;<a name="_a7"></a><a class="code" href="classlibbgp_1_1BgpFilterRuleRoute4.html">libbgp::BgpFilterRuleRoute4</a>&gt;(</div><div class="line">        <a class="code" href="classlibbgp_1_1BgpFilterRuleRoute4.html">libbgp::BgpFilterRuleRoute4</a>(<a name="a8"></a><a class="code" href="bgp-filter_8h.html#a09b283ade47782bc0c08687105402293ad422690559350ccf4cb4669c598983e4">libbgp::REJECT</a>, <a name="a9"></a><a class="code" href="bgp-filter_8h.html#a8e60861335e07d6ae40515b00d45cea4a9350c19e83e76d427e2ff5c1149ba638">libbgp::M_LE</a>, <a name="_a10"></a><a class="code" href="classlibbgp_1_1Prefix4.html">libbgp::Prefix4</a>(<span class="stringliteral">&quot;0.0.0.0&quot;</span>, 0))</div><div class="line">    );</div><div class="line"></div><div class="line">    <span class="comment">// egress: append another rule: accept 172.16.0.0/24.</span></div><div class="line">    egress_rules.<a class="code" href="classlibbgp_1_1BgpFilterRules.html#a56314eaf305bf29b8b3b8eaf027b01ed">append</a>&lt;<a class="code" href="classlibbgp_1_1BgpFilterRuleRoute4.html">libbgp::BgpFilterRuleRoute4</a>&gt;(</div><div class="line">        <a class="code" href="classlibbgp_1_1BgpFilterRuleRoute4.html">libbgp::BgpFilterRuleRoute4</a>(<a name="a11"></a><a class="code" href="bgp-filter_8h.html#a09b283ade47782bc0c08687105402293aa6ab08553612c9644c30f59750d17008">libbgp::ACCEPT</a>, <a name="a12"></a><a class="code" href="bgp-filter_8h.html#a8e60861335e07d6ae40515b00d45cea4a9ea483b720a308c9a96681a1260e33d0">libbgp::M_EQ</a>, <a class="code" href="classlibbgp_1_1Prefix4.html">libbgp::Prefix4</a>(<span class="stringliteral">&quot;172.16.0.0&quot;</span>, 24))</div><div class="line">    );</div><div class="line"></div><div class="line">    <span class="comment">// inegress rule set (apply to routes received from peer). Say we only want </span></div><div class="line">    <span class="comment">// to allow 172.17.0.0/24 to peer, nothing else.</span></div><div class="line">    <a class="code" href="classlibbgp_1_1BgpFilterRules.html">libbgp::BgpFilterRules</a> ingress_rules;</div><div class="line"></div><div class="line">    <span class="comment">// do the simular thing for inegress rules set</span></div><div class="line">    ingress_rules.<a class="code" href="classlibbgp_1_1BgpFilterRules.html#a56314eaf305bf29b8b3b8eaf027b01ed">append</a>&lt;<a class="code" href="classlibbgp_1_1BgpFilterRuleRoute4.html">libbgp::BgpFilterRuleRoute4</a>&gt;(</div><div class="line">        <a class="code" href="classlibbgp_1_1BgpFilterRuleRoute4.html">libbgp::BgpFilterRuleRoute4</a>(<a class="code" href="bgp-filter_8h.html#a09b283ade47782bc0c08687105402293ad422690559350ccf4cb4669c598983e4">libbgp::REJECT</a>, <a name="a13"></a><a class="code" href="bgp-filter_8h.html#a8e60861335e07d6ae40515b00d45cea4ad0a48c415f1e43033193ada7f402359a">libbgp::M_NE</a>, <a class="code" href="classlibbgp_1_1Prefix4.html">libbgp::Prefix4</a>(<span class="stringliteral">&quot;172.17.0.0&quot;</span>, 24))</div><div class="line">    );</div><div class="line"></div><div class="line">    <span class="comment">/* configure our &quot;local&quot; BgpFsm */</span></div><div class="line">    <a name="_a14"></a><a class="code" href="structlibbgp_1_1BgpConfig.html">libbgp::BgpConfig</a> local_bgp_config;</div><div class="line">    PipedOutHandler pipe_local;</div><div class="line">    local_bgp_config.<a name="a15"></a><a class="code" href="structlibbgp_1_1BgpConfig.html#a50058772fbf44f0bf8be1ae3779fa9cd">asn</a> = 65000; <span class="comment">// set local ASN</span></div><div class="line">    local_bgp_config.peer_asn = 65001; <span class="comment">// set peer ASN</span></div><div class="line">    local_bgp_config.use_4b_asn = <span class="keyword">true</span>; <span class="comment">// enable RFC 6793</span></div><div class="line">    local_bgp_config.mp_bgp_ipv4 = <span class="keyword">false</span>; <span class="comment">// not using mp-bgp</span></div><div class="line">    local_bgp_config.mp_bgp_ipv6 = <span class="keyword">false</span>; <span class="comment">// not using mp-bgp</span></div><div class="line">    local_bgp_config.hold_timer = 120; <span class="comment">// hold timer</span></div><div class="line">    local_bgp_config.out_handler = &amp;pipe_local; <span class="comment">// handle output with bridge</span></div><div class="line">    local_bgp_config.no_collision_detection = <span class="keyword">true</span>; <span class="comment">// no need for that</span></div><div class="line">    local_bgp_config.rib4 = NULL; <span class="comment">// let BGP FSM create RIB for us.</span></div><div class="line">    local_bgp_config.rev_bus = NULL; <span class="comment">// we don&#39;t need event bus</span></div><div class="line">    local_bgp_config.clock = NULL; <span class="comment">// use system clock.</span></div><div class="line">    local_bgp_config.log_handler = &amp;local_logger; <span class="comment">// use local logger</span></div><div class="line">    local_bgp_config.in_filters4 = ingress_rules;</div><div class="line">    local_bgp_config.out_filters4 = egress_rules;</div><div class="line">    inet_pton(AF_INET, <span class="stringliteral">&quot;10.0.0.1&quot;</span>, &amp;local_bgp_config.router_id); <span class="comment">// router id</span></div><div class="line"></div><div class="line">    <span class="comment">// nexthop selection and nexthop validation is done with peering_lan_*</span></div><div class="line">    <span class="comment">// configutaion. For simplicity, we are disabling those checks here. Router</span></div><div class="line">    <span class="comment">// server example has demonstrated how peer_lan_* were used. For detailed </span></div><div class="line">    <span class="comment">// usage, refer to the document.</span></div><div class="line"></div><div class="line">    <span class="comment">// always use 10.0.0.1 as nexthop. </span></div><div class="line">    inet_pton(AF_INET, <span class="stringliteral">&quot;10.0.0.1&quot;</span>, &amp;local_bgp_config.default_nexthop4); </div><div class="line">    local_bgp_config.forced_default_nexthop4 = <span class="keyword">true</span>; </div><div class="line"></div><div class="line">    <span class="comment">// don&#39;t validate nexthop of routes received from peer.</span></div><div class="line">    local_bgp_config.no_nexthop_check4 = <span class="keyword">true</span>; </div><div class="line"></div><div class="line">    <span class="comment">/* and configure the &quot;remote&quot; */</span></div><div class="line">    <a class="code" href="structlibbgp_1_1BgpConfig.html">libbgp::BgpConfig</a> remote_bgp_config;</div><div class="line">    PipedOutHandler pipe_remote;</div><div class="line">    remote_bgp_config.<a class="code" href="structlibbgp_1_1BgpConfig.html#a50058772fbf44f0bf8be1ae3779fa9cd">asn</a> = 65001;</div><div class="line">    remote_bgp_config.<a name="a16"></a><a class="code" href="structlibbgp_1_1BgpConfig.html#a0a4d1662bac518cd66bcce3ed35195c6">peer_asn</a> = 65000;</div><div class="line">    remote_bgp_config.<a name="a17"></a><a class="code" href="structlibbgp_1_1BgpConfig.html#ab225af5f692ee473e457515350297b68">use_4b_asn</a> = <span class="keyword">true</span>;</div><div class="line">    remote_bgp_config.<a name="a18"></a><a class="code" href="structlibbgp_1_1BgpConfig.html#a6726cccab854ccc0c2efd4abb8d1f37a">mp_bgp_ipv4</a> = <span class="keyword">false</span>;</div><div class="line">    remote_bgp_config.<a name="a19"></a><a class="code" href="structlibbgp_1_1BgpConfig.html#a6d9218e15a9ad321c22042405777d756">mp_bgp_ipv6</a> = <span class="keyword">false</span>;</div><div class="line">    remote_bgp_config.<a name="a20"></a><a class="code" href="structlibbgp_1_1BgpConfig.html#a71d932a32d7d9b89c8327f578bad17d5">hold_timer</a> = 120;</div><div class="line">    remote_bgp_config.<a name="a21"></a><a class="code" href="structlibbgp_1_1BgpConfig.html#a055a838bffab8e0cbdea22abf536c0ca">out_handler</a> = &amp;pipe_remote;</div><div class="line">    remote_bgp_config.<a name="a22"></a><a class="code" href="structlibbgp_1_1BgpConfig.html#ac42b213e8a941eeff8688b049bc05a31">no_collision_detection</a> = <span class="keyword">true</span>;</div><div class="line">    remote_bgp_config.<a name="a23"></a><a class="code" href="structlibbgp_1_1BgpConfig.html#a4c9be0a50513a73a908efefdbcb1be92">rib4</a> = NULL; </div><div class="line">    remote_bgp_config.<a name="a24"></a><a class="code" href="structlibbgp_1_1BgpConfig.html#a0f49c37a2db3ba92b358bed0b9ff1d86">rev_bus</a> = NULL; </div><div class="line">    remote_bgp_config.<a name="a25"></a><a class="code" href="structlibbgp_1_1BgpConfig.html#a85433acb7a5ca8620fa4cf79f5d50798">clock</a> = NULL;</div><div class="line">    remote_bgp_config.<a name="a26"></a><a class="code" href="structlibbgp_1_1BgpConfig.html#ab3b993e8b2958966c1e2318a08b5655e">log_handler</a> = &amp;remote_logger; </div><div class="line">    inet_pton(AF_INET, <span class="stringliteral">&quot;10.0.0.2&quot;</span>, &amp;remote_bgp_config.<a name="a27"></a><a class="code" href="structlibbgp_1_1BgpConfig.html#acc50e2d37d8b44e2c69d907281253f55">router_id</a>);</div><div class="line">    inet_pton(AF_INET, <span class="stringliteral">&quot;10.0.0.2&quot;</span>, &amp;remote_bgp_config.<a name="a28"></a><a class="code" href="structlibbgp_1_1BgpConfig.html#a435eab7547c46ec544b56fc8b381785f">default_nexthop4</a>); </div><div class="line">    remote_bgp_config.<a name="a29"></a><a class="code" href="structlibbgp_1_1BgpConfig.html#a64b058158a17c5db5c293fc5c73d3ef7">forced_default_nexthop4</a> = <span class="keyword">true</span>; </div><div class="line">    remote_bgp_config.<a name="a30"></a><a class="code" href="structlibbgp_1_1BgpConfig.html#a565e7bbdef0c8a7221008379b51f1e49">no_nexthop_check4</a> = <span class="keyword">true</span>; </div><div class="line"></div><div class="line">    <span class="comment">// create our &quot;local&quot; and &quot;remote&quot; FSMs, and connect them with each other.</span></div><div class="line">    <a class="code" href="classlibbgp_1_1BgpFsm.html">libbgp::BgpFsm</a> local(local_bgp_config);</div><div class="line">    <a class="code" href="classlibbgp_1_1BgpFsm.html">libbgp::BgpFsm</a> remote(remote_bgp_config);</div><div class="line">    pipe_local.setPeer(&amp;remote);</div><div class="line">    pipe_remote.setPeer(&amp;local);</div><div class="line"></div><div class="line">    <span class="comment">// before we peer, let&#39;s add some routes to local.</span></div><div class="line"></div><div class="line">    <span class="comment">// 10.0.0.0/24 (this will be filter by egress filter)</span></div><div class="line">    local.<a name="a31"></a><a class="code" href="classlibbgp_1_1BgpFsm.html#acea4bb421e5856673c13bf409e066574">getRib4</a>().<a name="a32"></a><a class="code" href="classlibbgp_1_1BgpRib4.html#a2a0493530a85e4ca0254bfd5c59748d2">insert</a>(&amp;local_logger, <a class="code" href="classlibbgp_1_1Prefix4.html">libbgp::Prefix4</a>(<span class="stringliteral">&quot;10.0.0.0&quot;</span>, 24), local_bgp_config.default_nexthop4);</div><div class="line"></div><div class="line">    <span class="comment">// 172.16.0.0/16 (this will be filter by egress filter)</span></div><div class="line">    local.<a class="code" href="classlibbgp_1_1BgpFsm.html#acea4bb421e5856673c13bf409e066574">getRib4</a>().<a class="code" href="classlibbgp_1_1BgpRib4.html#a2a0493530a85e4ca0254bfd5c59748d2">insert</a>(&amp;local_logger, <a class="code" href="classlibbgp_1_1Prefix4.html">libbgp::Prefix4</a>(<span class="stringliteral">&quot;172.16.0.0&quot;</span>, 16), local_bgp_config.default_nexthop4);</div><div class="line"></div><div class="line">    <span class="comment">// 172.16.0.0/16 (this will be accept by egress filter)</span></div><div class="line">    local.<a class="code" href="classlibbgp_1_1BgpFsm.html#acea4bb421e5856673c13bf409e066574">getRib4</a>().<a class="code" href="classlibbgp_1_1BgpRib4.html#a2a0493530a85e4ca0254bfd5c59748d2">insert</a>(&amp;local_logger, <a class="code" href="classlibbgp_1_1Prefix4.html">libbgp::Prefix4</a>(<span class="stringliteral">&quot;172.16.0.0&quot;</span>, 24), local_bgp_config.default_nexthop4);</div><div class="line"></div><div class="line">    <span class="comment">// and also, add some routes to remote.</span></div><div class="line"></div><div class="line">    <span class="comment">// 10.1.0.0/24 (this will be filter by local ingress filter)</span></div><div class="line">    remote.<a class="code" href="classlibbgp_1_1BgpFsm.html#acea4bb421e5856673c13bf409e066574">getRib4</a>().<a class="code" href="classlibbgp_1_1BgpRib4.html#a2a0493530a85e4ca0254bfd5c59748d2">insert</a>(&amp;remote_logger, <a class="code" href="classlibbgp_1_1Prefix4.html">libbgp::Prefix4</a>(<span class="stringliteral">&quot;10.1.0.0&quot;</span>, 24), remote_bgp_config.<a class="code" href="structlibbgp_1_1BgpConfig.html#a435eab7547c46ec544b56fc8b381785f">default_nexthop4</a>);</div><div class="line"></div><div class="line">    <span class="comment">// 172.17.0.0/26 (this will be filter by local ingress filter)</span></div><div class="line">    remote.<a class="code" href="classlibbgp_1_1BgpFsm.html#acea4bb421e5856673c13bf409e066574">getRib4</a>().<a class="code" href="classlibbgp_1_1BgpRib4.html#a2a0493530a85e4ca0254bfd5c59748d2">insert</a>(&amp;remote_logger, <a class="code" href="classlibbgp_1_1Prefix4.html">libbgp::Prefix4</a>(<span class="stringliteral">&quot;172.17.0.0&quot;</span>, 26), remote_bgp_config.<a class="code" href="structlibbgp_1_1BgpConfig.html#a435eab7547c46ec544b56fc8b381785f">default_nexthop4</a>);</div><div class="line"></div><div class="line">    <span class="comment">// 172.17.0.0/23 (this will be accept by local ingress filter)</span></div><div class="line">    remote.<a class="code" href="classlibbgp_1_1BgpFsm.html#acea4bb421e5856673c13bf409e066574">getRib4</a>().<a class="code" href="classlibbgp_1_1BgpRib4.html#a2a0493530a85e4ca0254bfd5c59748d2">insert</a>(&amp;remote_logger, <a class="code" href="classlibbgp_1_1Prefix4.html">libbgp::Prefix4</a>(<span class="stringliteral">&quot;172.17.0.0&quot;</span>, 24), remote_bgp_config.<a class="code" href="structlibbgp_1_1BgpConfig.html#a435eab7547c46ec544b56fc8b381785f">default_nexthop4</a>);</div><div class="line"></div><div class="line">    <span class="comment">// send the open message from local.</span></div><div class="line">    local.<a name="a33"></a><a class="code" href="classlibbgp_1_1BgpFsm.html#a297b5f43430153e579f9c4b75d214fca">start</a>();</div><div class="line"></div><div class="line">    <span class="comment">// finished, stop FSMs.</span></div><div class="line">    local.<a name="a34"></a><a class="code" href="classlibbgp_1_1BgpFsm.html#a2cfd8eca823780e49d2f3bd61cdb68c2">stop</a>();</div><div class="line">    remote.<a class="code" href="classlibbgp_1_1BgpFsm.html#a2cfd8eca823780e49d2f3bd61cdb68c2">stop</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
